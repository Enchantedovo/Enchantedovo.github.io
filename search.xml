<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo搭建博客</title>
    <url>/2021/01/31/build-blog/</url>
    <content><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="预备知识"><a href="#预备知识" class="headerlink" title="预备知识"></a>预备知识</h3><ul>
<li>有一个GitHub账号，没有的话去注册一个；</li>
<li>安装了node.js、npm，并了解相关基础知识；</li>
<li>安装了git for windows（或者其它git客户端）</li>
</ul>
<h3 id="本文所使用环境"><a href="#本文所使用环境" class="headerlink" title="本文所使用环境"></a>本文所使用环境</h3><ul>
<li>Windows8.1</li>
<li><a href="mailto:&#110;&#x6f;&#x64;&#x65;&#46;&#x6a;&#x73;&#64;&#x35;&#46;&#53;&#46;&#x30;">&#110;&#x6f;&#x64;&#x65;&#46;&#x6a;&#x73;&#64;&#x35;&#46;&#53;&#46;&#x30;</a></li>
<li><a href="mailto:&#x67;&#105;&#116;&#64;&#x31;&#46;&#57;&#46;&#50;">&#x67;&#105;&#116;&#64;&#x31;&#46;&#57;&#46;&#50;</a></li>
<li><a href="mailto:&#104;&#101;&#120;&#111;&#64;&#x33;&#x2e;&#50;&#46;&#50;">&#104;&#101;&#120;&#111;&#64;&#x33;&#x2e;&#50;&#46;&#50;</a></li>
</ul>
<h2 id="搭建GitHub博客"><a href="#搭建GitHub博客" class="headerlink" title="搭建GitHub博客"></a>搭建GitHub博客</h2><h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><p>先创建一个文件夹blog，然后cd到这个文件夹下（或者在这个文件夹下直接右键git bash打开）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>接下来初始化一下hexo</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init myblog</span><br></pre></td></tr></table></figure>
<p>这个myblog可以自己取什么名字都行，然后</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> myblog //进入这个myblog文件夹</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>
<p>新建完成后，指定文件夹目录下有：</p>
<ul>
<li>node_modules: 依赖包</li>
<li>public：存放生成的页面</li>
<li>scaffolds：生成文章的一些模板</li>
<li>source：用来存放你的文章</li>
<li>themes：主题</li>
<li>_config.yml: 博客的配置文件</li>
</ul>
<p>打开hexo的服务：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure>
<p>在浏览器输入localhost:4000就可以看到生成的博客了。<br>使用<code>ctrl+c</code>可以把服务关掉。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<h3 id="将hexo部署到GitHub"><a href="#将hexo部署到GitHub" class="headerlink" title="将hexo部署到GitHub"></a>将hexo部署到GitHub</h3><h4 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a>新建仓库</h4><p>新建一个名为你的<code>用户名.github.io</code>的仓库</p>
<h4 id="将hexo和GitHub关联起来"><a href="#将hexo和GitHub关联起来" class="headerlink" title="将hexo和GitHub关联起来"></a>将hexo和GitHub关联起来</h4><p>也就是将hexo生成的文章部署到GitHub上，打开站点配置文件 _config.yml，翻到最后，修改为：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/YourgithubName/YourgithubName.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<p>这个时候需要先安装deploy-git ，也就是部署的命令,这样才能用命令部署到GitHub。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<h4 id="hexo相关命令"><a href="#hexo相关命令" class="headerlink" title="hexo相关命令"></a>hexo相关命令</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li>hexo clean清除了你之前生成的东西，也可以不加。</li>
<li>hexo generate 顾名思义，生成静态文章，可以用 hexo g缩写</li>
<li>hexo deploy 部署文章，可以用hexo d缩写</li>
</ul>
<p>然后，可以在<a href="http://yourname.github.io/">http://yourname.github.io</a> 这个网站看到自己的博客了！！</p>
<blockquote>
<p>有兴趣还可以自己购买域名哦！</p>
</blockquote>
<h2 id="使用buttfly主题"><a href="#使用buttfly主题" class="headerlink" title="使用buttfly主题"></a>使用buttfly主题</h2><h3 id="使用butterfly主题（稳定版）配置"><a href="#使用butterfly主题（稳定版）配置" class="headerlink" title="使用butterfly主题（稳定版）配置"></a>使用butterfly主题（稳定版）配置</h3><h4 id="clone主题"><a href="#clone主题" class="headerlink" title="clone主题"></a>clone主题</h4><p>在博客根目录里：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure>
<h4 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h4><p>修改站点配置文件<code>_config.yml</code>，把主题改为butterfly：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure>
<h4 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h4><p>载安装 pug 以及 stylus 的渲染器：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>把主题文件夹中的 <code>_config.yml</code> 复製到 Hexo 根目录里，同时重新命名为 <code>_config.butterfly.yml</code>。</p>
<p>以后只需要在 <code>_config.butterfly.yml</code>进行配置就行。</p>
<p>Hexo会自动合併主题中的<code>_config.yml</code>和 <code>_config.butterfly.yml</code>里的配置，如果存在同名配置，会使用<code>_config.butterfly.yml</code>的配置，其优先度较高。</p>
<h3 id="相关魔改"><a href="#相关魔改" class="headerlink" title="相关魔改"></a>相关魔改</h3><p>参考：[<a href="https://butterfly.js.org]">https://butterfly.js.org]</a></p>
<h2 id="使用Hexo"><a href="#使用Hexo" class="headerlink" title="使用Hexo"></a>使用Hexo</h2><p>常用hexo命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new <span class="string">&quot;postName&quot;</span> <span class="comment">#新建文章</span></span><br><span class="line">hexo new page <span class="string">&quot;pageName&quot;</span> <span class="comment">#新建页面(菜单中的跳转页面)</span></span><br><span class="line">hexo generate <span class="comment">#生成静态页面至public目录</span></span><br><span class="line">hexo server <span class="comment">#开启预览访问端口（默认端口4000，&#x27;ctrl + c&#x27;关闭server）</span></span><br><span class="line">hexo deploy <span class="comment">#部署到GitHub</span></span><br><span class="line">hexo <span class="built_in">help</span>  <span class="comment"># 查看帮助</span></span><br><span class="line">hexo version  <span class="comment">#查看Hexo的版本</span></span><br></pre></td></tr></table></figure>
<p>部署文件需要三步</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo c</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<h2 id="markdown使用图片"><a href="#markdown使用图片" class="headerlink" title="markdown使用图片"></a>markdown使用图片</h2><h3 id="安装图片插件hexo-asset-image"><a href="#安装图片插件hexo-asset-image" class="headerlink" title="安装图片插件hexo-asset-image"></a>安装图片插件hexo-asset-image</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br></pre></td></tr></table></figure>
<blockquote>
<p>由于hexo3版本后对很多插件支持有问题，hexo-asset-image插件在处理data.permalink链接时出现路径错误，因此<code>npm install hexo-asset-image --save</code>使用会出现错误</p>
</blockquote>
<h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>在<code>_config.yml</code>配置文件中，修改为 </p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>然后新建一篇文章</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new post <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>这个时候会出现一个 <code>test.md</code> 和 <code>test</code> 文件夹，在文件夹中加入相关照片</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/2021/01/31/build-blog/addimg.png" alt="addimg"></p>
<p>然后就可以在文章中引用了</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&lt;!-- 方法一： --&gt;</span><br><span class="line">![<span class="string">img</span>](<span class="link">test/img.png</span>)</span><br><span class="line">&lt;!-- 方法二 --&gt;</span><br><span class="line">&#123;% asset<span class="emphasis">_img addimg.png This is an test image %&#125;</span></span><br></pre></td></tr></table></figure>
<p>重新编译一下，然后启动服务。</p>
<h2 id="添加本地搜索功能"><a href="#添加本地搜索功能" class="headerlink" title="添加本地搜索功能"></a>添加本地搜索功能</h2><h3 id="安装hexo-generator-searchdb插件"><a href="#安装hexo-generator-searchdb插件" class="headerlink" title="安装hexo-generator-searchdb插件"></a>安装hexo-generator-searchdb插件</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>
<h3 id="修改站点配置文件-config-yml"><a href="#修改站点配置文件-config-yml" class="headerlink" title="修改站点配置文件_config.yml"></a>修改站点配置文件<code>_config.yml</code></h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>
<h3 id="修改主题配置文件-config-butterfly-yml"><a href="#修改主题配置文件-config-butterfly-yml" class="headerlink" title="修改主题配置文件_config.butterfly.yml"></a>修改主题配置文件<code>_config.butterfly.yml</code></h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>修改完上述的配置之后，就可以看到网站菜单上面多了一个搜索按钮，点击就可以进行搜索了。</p>
]]></content>
      <categories>
        <category>其他</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Markdown</tag>
      </tags>
  </entry>
</search>
